{% extends 'blog/base.html' %}
{% load static %}
{% block content %}
<link href="https://cdn.bootcss.com/highlight.js/9.15.8/styles/github.min.css" rel="stylesheet">

<style>
    .codehilite {
        padding: 0;
    }

    /* for block of numbers */
    .hljs-ln-numbers {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;

        text-align: center;
        color: #ccc;
        border-right: 1px solid #CCC;
        vertical-align: top;
        padding-right: 5px;
    }

    .hljs-ln-n {
        width: 30px;
    }

    /* for block of code */
    .hljs-ln .hljs-ln-code {
        padding-left: 10px;
        white-space: pre;
    }
</style>
<!-- Page Content -->
<div class="container" style="padding-top: 110px;">
    <div class="row">
        <!-- Post Content Column -->
        <div class="col-lg-8">

            <!-- Title -->
            <h1 class="mt-4">{{post.title}}</h1>

            <!-- Author -->
            <p class="lead">
                by
                <a href="#">{{post.author}}</a>
            </p>

            <hr>

            <!-- Date/Time -->
            <p>Posted on {{post.created_date}}</p>
            <p>Last changed on {{post.published_date}}</p>

            <hr>

            <!-- Preview Image -->
            {% if post.header_img %}
            <img class="img-fluid rounded" src="{{ post.header_img.url }}" alt="Header Image">
            {% endif %}
            <hr>

            <!-- Post Content -->
            <p class="lead">{{post.text|safe}}</p>

            <hr>


        </div>
        <!-- Sidebar Widgets Column -->
        <div class="col-md-4">
            <!-- Categories Widget -->
            <div class="card my-4">
                <h5 class="card-header">Tags</h5>
                <div class="card-body">
                    <div class="row">
                        <div class="col-lg-6">
                            <ul class="list-unstyled mb-0">
                                {% for tag in post.tags.all %}
                                <li>
                                    <span class="badge badge-primary">#{{tag.name}}</span>
                                </li>
                                {%endfor%}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Side Widget -->
            <div class="card my-4">
                <h5 class="card-header">About this post</h5>
                <div class="card-body">
                    {{post.excerpt|linebreaksbr}}
                </div>
            </div>

            <!--Index-->
            {% if post.toc %}
            <div class="card my-4">
                <h5 class="card-header">Index</h5>
                <div class="card-body">
                    {{ post.toc|safe }}
                </div>
            </div>
            {% endif %}
        </div>

    </div>
    <!-- /.row -->

</div>
<script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlightjs-line-numbers.js/2.7.0/highlightjs-line-numbers.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>
<!-- /.container -->
{% endblock %}